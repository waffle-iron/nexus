var nexus_gplus_init=function(){nexus.gplus.init()},nexus=nexus||{};nexus.gplus={init:function(){gapi.load("auth2",function(){gapi.client.load("plus","v1").then(function(){gapi.signin2.render("signin-button",{scope:"https://www.googleapis.com/auth/plus.login",fetch_basic_profile:!1}),gapi.auth2.init({fetch_basic_profile:!1,scope:"https://www.googleapis.com/auth/plus.login"}).then(function(){auth2=gapi.auth2.getAuthInstance(),auth2.isSignedIn.listen(nexus.gplus.status),auth2.then(nexus.gplus.status)})})}),$(".gplus.sign_in").click(function(){var n=gapi.auth2.getAuthInstance();n.signIn()}),$(".gplus.sign_out").click(function(){var n=gapi.auth2.getAuthInstance();n.signOut()}),$(".gplus.disconnect").click(nexus.gplus.disconnect)},status:function(){auth2.isSignedIn.get()?($(".gplus.logged_in_only").show(),$(".gplus.logged_out_only").hide(),nexus.gplus.status_changed(gapi.auth2.getAuthInstance())):($(".gplus.logged_in_only").hide(),$(".gplus.logged_out_only").show(),nexus.gplus.status_changed(gapi.auth2.getAuthInstance()))},status_changed:function(n){n.isSignedIn.get()?nexus.gplus.profile():n.error||null==n.currentUser.get().getAuthResponse()?console.debug("There was an error: "+n.error):console.debug("some other error ocurred")},disconnect:function(){auth2.disconnect()},profile:function(){gapi.client.plus.people.get({userId:"me"}).then(function(n){var t=n.result;$(".gplus.user.name").html(t.displayName),$("img.gplus.user.image").attr("src",t.image.url)},function(n){console.debug(n.result)})}};